<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Game Genie Sample: Breakout</title>
  <style>
    body { background: #f0f4ff; font-family: 'Segoe UI', sans-serif; }
    h1 { color: #4f46e5; text-align: center; }
    #gameCanvas { display: block; margin: 2rem auto; background: #fff; border: 2px solid #4f46e5; border-radius: 10px; }
    .desc { text-align: center; color: #6366f1; margin-bottom: 1rem; }
  </style>
</head>
<body>
  <h1>Breakout (Generated by Game Genie)</h1>
  <div class="desc">Classic Breakout game, generated by Game Genie. Use left/right arrow keys to play!</div>
  <canvas id="gameCanvas" width="480" height="320"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    let ballX = canvas.width/2, ballY = canvas.height-30, dx = 2, dy = -2;
    const ballRadius = 10;
    let paddleH = 10, paddleW = 75, paddleX = (canvas.width-paddleW)/2;
    let rightPressed = false, leftPressed = false;
    const brickRowCount = 3, brickColCount = 5, brickW = 75, brickH = 20, brickP = 10;
    let bricks = [];
    let score = 0;
    for(let c=0; c<brickColCount; c++){
      bricks[c]=[];
      for(let r=0; r<brickRowCount; r++){
        bricks[c][r]={x:0,y:0,status:1};
      }
    }
    document.addEventListener('keydown',e=>{if(e.key==='Right'||e.key==='ArrowRight')rightPressed=true;else if(e.key==='Left'||e.key==='ArrowLeft')leftPressed=true;});
    document.addEventListener('keyup',e=>{if(e.key==='Right'||e.key==='ArrowRight')rightPressed=false;else if(e.key==='Left'||e.key==='ArrowLeft')leftPressed=false;});
    function drawBall(){ctx.beginPath();ctx.arc(ballX,ballY,ballRadius,0,Math.PI*2);ctx.fillStyle='#4f46e5';ctx.fill();ctx.closePath();}
    function drawPaddle(){ctx.beginPath();ctx.rect(paddleX,canvas.height-paddleH,paddleW,paddleH);ctx.fillStyle='#6366f1';ctx.fill();ctx.closePath();}
    function drawBricks(){for(let c=0;c<brickColCount;c++){for(let r=0;r<brickRowCount;r++){if(bricks[c][r].status==1){let brickX=(c*(brickW+brickP))+30,brickY=(r*(brickH+brickP))+30;bricks[c][r].x=brickX;bricks[c][r].y=brickY;ctx.beginPath();ctx.rect(brickX,brickY,brickW,brickH);ctx.fillStyle='#f59e42';ctx.fill();ctx.closePath();}}}}
    function drawScore(){ctx.font='16px Segoe UI';ctx.fillStyle='#6366f1';ctx.fillText('Score: '+score,8,20);}
    function collisionDetection(){for(let c=0;c<brickColCount;c++){for(let r=0;r<brickRowCount;r++){let b=bricks[c][r];if(b.status==1){if(ballX>b.x&&ballX<b.x+brickW&&ballY>b.y&&ballY<b.y+brickH){dy=-dy;b.status=0;score++;if(score==brickRowCount*brickColCount){alert('YOU WIN!');document.location.reload();}}}}}}
    function draw(){ctx.clearRect(0,0,canvas.width,canvas.height);drawBricks();drawBall();drawPaddle();drawScore();collisionDetection();if(ballX+dx>canvas.width-ballRadius||ballX+dx<ballRadius)dx=-dx;if(ballY+dy<ballRadius)dy=-dy;else if(ballY+dy>canvas.height-ballRadius){if(ballX>paddleX&&ballX<paddleX+paddleW){dy=-dy;}else{alert('GAME OVER');document.location.reload();}}if(rightPressed&&paddleX<canvas.width-paddleW)paddleX+=7;else if(leftPressed&&paddleX>0)paddleX-=7;ballX+=dx;ballY+=dy;requestAnimationFrame(draw);}
draw();
  </script>
</body>
</html>
